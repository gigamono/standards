{
  "version": 1,
  "kind": "App",
  "metadata": {
    "name": "TeamCliff",
    "public_id": "b780d792-bb57-4e29-a4a4-578d8db3bec9",
    "version": "1.0.0",
    "description": "Lorem ipsum dolor sit amet",
    "category": "accounting",
    "tags": ["accounting", "productivity"],
    "avatar_id": "TRgGRsfH635CSYGr2siYe7",
    "homepage_url": "teamcliff.io",
    "resource_nouns": ["email"],
    "authors": [
      {
        "name": "James Brown",
        "email": "james@brown.com"
      }
    ]
  },
  "auths": {
    "oauth2s": [
      {
        "label": "OAuth2",
        "scopes": ["send_email"],
        "should_refresh_automatically": true,
        "fields": [
          {
            "key": "email",
            "label": "Email",
            "tip": "Enter your email here",
            "is_required": true,
            "is_administrative": true,
            "input_kind": "email",
            "default_value": null,
            "dropdown": null
          }
        ],
        "apis": {
          "authorisation_request": {
            "code": null,
            "language": null,
            "form": {
              "method": "GET",
              "url": "https://api.teamcliff.io/auth1",
              "headers": null,
              "params": {
                "client_id": "{{env.CLIENT_ID}}",
                "state": "{{env.STATE}}",
                "redirect_uri": "{{env.REDIRECT_URI}}"
              },
              "body": null
            }
          },
          "access_token_request": {
            "code": null,
            "language": null,
            "form": {
              "method": "GET",
              "url": "https://api.teamcliff.io/auth2",
              "headers": null,
              "params": null,
              "body": {
                "code": "{{auths.oauth2s[0].apis.authorisation_request.response.body.code}}",
                "client_id": "{{env.CLIENT_ID}}",
                "client_secret": "{{env.CLIENT_SECRET}}",
                "redirect_uri": "{{env.REDIRECT_URI}}",
                "grant_type": "authorization_code"
              }
            }
          },
          "refresh_token_request": {
            "code": null,
            "language": null,
            "form": {
              "method": "GET",
              "url": "https://api.teamcliff.io/auth3",
              "headers": null,
              "params": {
                "refresh_token": "{{auths.oauth2s[0].apis.authorisation_request.response.body.refresh_token}}",
                "grant_type": "refresh_token"
              },
              "body": null
            }
          }
        }
      }
    ],
    "api_keys": [
      {
        "label": "API Key",
        "fields": [
          {
            "key": "workspace",
            "label": "Workspace",
            "tip": "Select workspace",
            "is_required": true,
            "is_administrative": false,
            "input_kind": "select",
            "default_value": null,
            "dropdown": {
              "kind": "static",
              "allows_multiple": false,
              "allows_custom": true,
              "options": ["Google", "Apple"]
            }
          }
        ],
        "api": {
          "code": null,
          "language": null,
          "form": {
            "method": "POST",
            "url": "https://api.teamcliff.io/auth",
            "headers": null,
            "params": null,
            "body": null
          }
        }
      }
    ]
  },
  "operations": {
    "triggers": [
      {
        "key": "new_email_subscriber",
        "label": "New Email Subscriber",
        "tip": "Triggers when there is a new email subscriber",
        "fields": [
          {
            "key": "email",
            "label": "Email",
            "tip": "Enter your email here",
            "is_required": true,
            "is_write_op": false,
            "is_identification": true,
            "resource_noun": "email",
            "input_kind": "select",
            "dropdown": {
              "kind": "dynamic",
              "allows_multiple": false,
              "allows_custom": true,
              "options": "{{fields[0].email}}"
            }
          }
        ],
        "apis": {
          "polls": [
            {
              "auth_kind": null,
              "code": null,
              "language": null,
              "form": {
                "method": "GET",
                "url": "https://api.teamcliff.io/poll",
                "headers": null,
                "params": null,
                "body": null
              }
            }
          ],
          "rest_hooks": [
            {
              "auth_kind": null,
              "operations": {
                "subscribe": {
                  "code": null,
                  "language": null,
                  "form": {
                    "method": "POST",
                    "url": "https://api.teamcliff.io/hooks",
                    "headers": null,
                    "params": null,
                    "body": null
                  }
                },
                "unsubscribe": {
                  "code": null,
                  "language": null,
                  "form": {
                    "method": "DELETE",
                    "url": "https://api.teamcliff.io/hooks",
                    "headers": null,
                    "params": null,
                    "body": null
                  }
                },
                "list": {
                  "code": null,
                  "language": null,
                  "form": {
                    "method": "POST",
                    "url": "https://api.teamcliff.io/api",
                    "headers": null,
                    "params": null,
                    "body": null
                  }
                }
              }
            }
          ]
        }
      }
    ],
    "actions": [
      {
        "action_kind": "search",
        "key": "email",
        "label": "Email",
        "tip": "Enter your email here",
        "is_required": true,
        "is_write_op": false,
        "is_identification": true,
        "resource_noun": "email",
        "input_kind": "select",
        "dropdown": {
          "kind": "dynamic",
          "allows_multiple": false,
          "allows_custom": true,
          "options": "{{fields[0].email}}"
        },
        "api": {
          "code": null,
          "language": null,
          "form": {
            "method": "POST",
            "url": "https://api.teamcliff.io/auth",
            "headers": null,
            "params": null,
            "body": null
          }
        }
      }
    ]
  }
}
