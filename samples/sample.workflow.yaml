version: 1
kind: Workflow

metadata:
  name: TeamCliff > Sorbel > Transform
  description: Lorem ipsum dolor sit amet
  tags:
    - protected
    - backend
  authors:
    - name: James Brown
      email: james@brown.com

integrations:
  - name: Active Campaign
    id: 24f495c3-7fc6-4bea-bf7a-adb0a955a54f # database id
    file_url: www.gigamono.com/project/3jOApF4U10rBe0LL4ekuUA/integration.VvahTjdfR1O7h_KtP_0yZA.ul9CkhJsSAKdiOXwjpX5SA.json

steps:
  - index: 0
    integration_index: 0
    operation_key: new_email_subscriber
    label: Add a new subscriber
    dependencies: null
    fields:
      email: "james@brown.com"
      name: "James Brown"

  - index: 1
    integration_index: 0
    operation_key: new_email_subscriber
    label: Add a new subscriber
    dependencies: [0] # Step 1 depends on Step 0
    fields:
      email: "{{selectStep(0).output.email}}"
      name: "{{selectStep(0).output.name}}"

  - index: 2
    integration: null # null integration means operation is builtin.
    operation_key: transform
    label: Transform email
    dependencies: [1] # Step 2 depends on Step 1
    fields:
      email: "{{selectStep(1).output.email}}"

layout:
  highestIndex: 3 # SEC: Must validate.
  containerBounds:
    x: null
    y: null
    width: null
    height: null

  stepsPositioning:
    0:
      top: null
      left: null
    1:
      top: null
      left: null
